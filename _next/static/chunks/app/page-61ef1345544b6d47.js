(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2442:function(e,t,r){Promise.resolve().then(r.bind(r,6774))},6774:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(7437),o=r(7053),n=r(2265);async function i(e){let t=await fetch(e);if(!t.ok)throw Error("Failed to fetch ".concat(e,": ").concat(t.statusText));return(await t.text()).trim().split("\n").map(e=>e.split(","))}function c(e){let t=e[0];return e.slice(1).filter(e=>e.length===t.length).map(e=>{let r={};return t.forEach((t,a)=>{("Timestamp"===t.trim()||"Count"===t.trim())&&(r[t.trim()]=e[a].trim())}),r})}function l(){let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)({peacekeeper:"0",prapor:"0"});return(0,n.useEffect)(()=>{(async function(){try{let e=await i("https://raw.githubusercontent.com/Active5850/tarkov_event_arms_race/main/peacekeeper_count.csv"),r=await i("https://raw.githubusercontent.com/Active5850/tarkov_event_arms_race/main/prapor_count.csv"),a=c(e),o=c(r),n=a[a.length-1].Count,s=o[o.length-1].Count;l({peacekeeper:Number(n).toLocaleString(),prapor:Number(s).toLocaleString()}),t({datasets:[{name:"Peacekeeper",data:a.map(e=>[1e3*parseInt(e.Timestamp),parseInt(e.Count,10)])},{name:"Prapor",data:o.map(e=>[1e3*parseInt(e.Timestamp),parseInt(e.Count,10)])}]})}catch(e){console.error("Error creating chart:",e)}})()},[]),(0,a.jsx)("main",{className:"h-screen flex flex-col bg-gray-800 text-white",children:(0,a.jsx)("div",{className:"flex-grow flex flex-col p-4",children:e?(0,a.jsx)(o.Z,{option:{title:[{text:"Peacekeeper: ".concat(r.peacekeeper," - Prapor: ").concat(r.prapor),left:"center",top:0,textStyle:{color:"#ffffff",fontSize:16}}],tooltip:{trigger:"item",backgroundColor:"rgba(50, 50, 50, 0.8)",borderColor:"rgba(100, 100, 100, 0.7)",textStyle:{color:"#ffffff"},formatter:function(e){if(!e||!e.value||!Array.isArray(e.value)||e.value.length<2)return"Invalid data";let t=new Date(e.value[0]).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=e.seriesName,a=e.value[1].toLocaleString();return"".concat(e.marker," ").concat(r,": ").concat(a,"<br/>").concat(t)}},legend:{data:[{name:"Peacekeeper",icon:"circle"},{name:"Prapor",icon:"circle"}],top:30,textStyle:{color:"#ffffff"},selectedMode:!0},grid:{left:"3%",right:"4%",bottom:"5%",containLabel:!0,show:!0,backgroundColor:"rgba(50, 50, 50, 0.3)",borderColor:"rgba(100, 100, 100, 0.3)"},xAxis:{type:"time",axisLabel:{color:"#ffffff",formatter:e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})},splitLine:{show:!0,lineStyle:{color:"rgba(100, 100, 100, 0.3)",type:"dashed"}},minorTick:{show:!0},minorSplitLine:{show:!0,lineStyle:{color:"rgba(100, 100, 100, 0.1)",type:"dashed"}}},yAxis:{type:"value",axisLabel:{color:"#ffffff"},splitLine:{show:!0,lineStyle:{color:"rgba(100, 100, 100, 0.3)",type:"dashed"}}},series:[{name:"Peacekeeper",type:"line",data:(null==e?void 0:e.datasets[0].data)||[],color:"#4a90e2",lineStyle:{width:5},symbol:"circle",symbolSize:8,itemStyle:{color:"#4a90e2",borderColor:"#4a90e2",borderWidth:2},emphasis:{scale:!0,focus:"series"}},{name:"Prapor",type:"line",data:(null==e?void 0:e.datasets[1].data)||[],color:"#ffa500",lineStyle:{width:5},symbol:"circle",symbolSize:8,itemStyle:{color:"#ffa500",borderColor:"#ffa500",borderWidth:2},emphasis:{scale:!0,focus:"series"}}],dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],start:0,end:100,filterMode:"filter"},{type:"inside",xAxisIndex:[0],start:0,end:100,filterMode:"filter"}]},style:{height:"100%",width:"100%"}}):(0,a.jsx)("p",{className:"text-center",children:"Loading chart data..."})})})}}},function(e){e.O(0,[53,971,23,744],function(){return e(e.s=2442)}),_N_E=e.O()}]);